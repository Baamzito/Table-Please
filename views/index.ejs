<%- include('partials/header') %> 
<%- include('partials/navbar') %>
<!-- Hero Section -->
<section class="hero-section position-relative w-100 vw-100">
  <div class="hero-bg-overlay position-absolute w-100 h-100"></div>
  <div class="container-fluid position-relative py-5">
    <div class="row min-vh-75 align-items-center pt-5">
      <div class="col-lg-8 mx-auto text-center">
        <h1 class="display-4 text-white fw-bold mb-3">
          Find the Perfect Restaurant
        </h1>
        <p class="lead text-white mb-4">
          Locate the best places to eat in your area
        </p>

        <div
          class="search-container bg-white p-3 rounded shadow mx-3 mx-md-auto"
          style="max-width: 800px"
        >
          <form action="/restaurants/search" method="GET">
            <div class="row g-2">
              <div class="col-md-5">
                <div class="input-group">
                  <span class="input-group-text bg-transparent border-0">
                    <i class="fas fa-utensils text-primary"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control border-0"
                    name="name"
                    placeholder="Restaurant name"
                  />
                </div>
              </div>
              <div class="col-md-5">
                <div class="input-group">
                  <span class="input-group-text bg-transparent border-0">
                    <i class="fas fa-map-marker-alt text-primary"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control border-0"
                    name="city"
                    placeholder="City"
                  />
                </div>
              </div>
              <div class="col-md-2">
                <button type="submit" class="btn btn-primary w-100">
                  <i class="fas fa-search me-2"></i>Search
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Restaurants -->
<section class="py-5 bg-light w-100 vw-100">
  <div class="container-fluid px-lg-5">
    <div class="row mb-4">
      <div class="col-12">
        <h2 class="text-center mb-4">Featured Restaurants</h2>
        <p class="text-center text-muted">
          Discover the most popular establishments on our platform
        </p>
      </div>
    </div>

    <div class="row px-3 px-lg-5">
      <% if (locals.featuredRestaurants && featuredRestaurants.length > 0) { %>
      <% featuredRestaurants.forEach(restaurant => { %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100 shadow-sm hover-card">
          <img
            src="<%= restaurant.imageUrl || '/images/default-restaurant.jpg' %>"
            class="card-img-top restaurant-img"
            alt="<%= restaurant.name %>"
          />
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h5 class="card-title mb-0"><%= restaurant.name %></h5>
            </div>
            <p class="text-muted small mb-1">
              <i class="fas fa-map-marker-alt me-2"></i><%= restaurant.address.city %>
            </p>
            <p class="text-muted small mb-2">
              <i class="fas fa-phone me-2"></i><%= restaurant.contact.phone %>
            </p>
            <p class="text-muted small mb-2">
              <i class="fas fa-envelope me-2"></i><%= restaurant.contact.email || 'N/A' %>
            </p>
          </div>
          <div class="card-footer bg-white border-top-0">
            <a
              href="/restaurants/<%= restaurant._id %>"
              class="btn btn-outline-primary btn-sm"
              >View Details</a
            >
          </div>
        </div>
      </div>
      <% }); %> <% } else { %>
      <div class="col-12 text-center">
        <p>No featured restaurants available at the moment.</p>
        <a href="/restaurants" class="btn btn-primary"
          >Browse All Restaurants</a
        >
      </div>
      <% } %>
    </div>

    <div class="text-center mt-4">
      <a href="/restaurants" class="btn btn-outline-primary"
        >View All Restaurants</a
      >
    </div>
  </div>
</section>

<!-- How It Works -->
<section class="py-5 bg-light w-100 vw-100">
  <div class="container-fluid px-lg-5">
    <div class="row mb-4">
      <div class="col-12">
        <h2 class="text-center mb-4">How It Works</h2>
        <p class="text-center text-muted">
          Finding your perfect restaurant is simple
        </p>
      </div>
    </div>

    <div class="row px-3 px-lg-5">
      <div class="col-md-4 mb-4 mb-md-0">
        <div class="card h-100 shadow-sm text-center border-0 bg-transparent">
          <div class="card-body">
            <div class="icon-circle bg-primary text-white mx-auto mb-4">
              <i class="fas fa-search"></i>
            </div>
            <h4>Search</h4>
            <p class="text-muted">
              Enter the restaurant name or city to find options near you.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4 mb-4 mb-md-0">
        <div class="card h-100 shadow-sm text-center border-0 bg-transparent">
          <div class="card-body">
            <div class="icon-circle bg-primary text-white mx-auto mb-4">
              <i class="fas fa-info-circle"></i>
            </div>
            <h4>Get Informed</h4>
            <p class="text-muted">
              Check contact details and address to make the best choice.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card h-100 shadow-sm text-center border-0 bg-transparent">
          <div class="card-body">
            <div class="icon-circle bg-primary text-white mx-auto mb-4">
              <i class="fas fa-utensils"></i>
            </div>
            <h4>Enjoy</h4>
            <p class="text-muted">
              Visit your chosen restaurant and share your experience.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<%- include('partials/footer') %>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>